<html>
    <head>
    </head>
    <body>
        <script>
let total_q_number=25;//問題数//
let total_number=5;//回答数//
var ratio;//正答率//
var time;//解答時間//
var q_number=0;//問題番号初期化//
var question;//問題文//
var select1;//選択肢1//
var select2;//選択肢2//
var select3;//選択肢3//
var select4;//選択肢4//
var select5;//選択肢5//
var correct;//正答//
var answer;//正答//
var compliment;//最終評価//
var c_number=0;//正答数の初期化//
var order=Array(total_number);//回答数の要素数の配列作成（今回は5）//
order.fill(0);//orderが[0, 0, 0, 0, 0]に初期化//
var k=0;//ループ変数//

//問題、選択肢、正答を作成する関数//
function select_question(){
    if(order[q_number]==1){
        question="y=x^3-4x上の点(2,0)における接線の方程式を求めよ。";
        select1="y=8x+16";
        select2="y=-8x+16";
        select3="y=-8x-16";
        select4="y=8x-16";
        select5="わからない";
        correct="4";
    }
    else if(order[q_number]==2){
        question="点(2,-2)から曲線y=x^2-xに引いた接線の方程式を求めよ。";
        select1="y=-x,y=7x-16";
        select2="y=x,y=7x+16";
        select3="y=-x,y=7x+16";
        select4="y=x,y=7x+16";
        select5="わからない";
        correct="1";
    }
    else if(order[q_number]==3){
        question="3次関数y=ax^3+bx^2-3x-1がx=-1で極大となり、x=3で極小となるとき、定数a,bの値を求めよ。";
        select1="a=1/3,b=1";
        select2="-1/3,b=-1";
        select3="a=-1/3,b=1";
        select4="a=1/3,b=-1";
        select5="わからない";
        correct="4";
    }
    else if(order[q_number]==4){
        question="関数y=x^3+ax^2+axが極値をもつとき、定数aのとり得る値の範囲を求めよ。";
        select1="a<0またはa>3";
        select2="a≦0またはa≧3";
        select3="0≦a≦3";
        select4="0<a<3";
        select5="わからない";
        correct="1";
    } 
    else if(order[q_number]==5){
        question="関数y=2x^3-x^2-4x-1について、-1≦x≦2のとき最大値と最小値を求めよ。";
        select1="x=0で最大値-1,x=1で最小値-4";
        select2="x=2で最大値3,x=1で最小値-4";
        select3="x=2で最大値3,x=0で最小値-1";
        select4="x=2で最大値3,x=-1で最小値0";
        select5="わからない";
        correct="2";
    }    
    else if(order[q_number]==6){
        question="関数y=-x^3+3ax^2+axが極値をもたないような定数aの値の範囲を求めよ。";
        select1="a<-1/3またはa>0";
        select2="a≦-1/3以下またはa≧0";
        select3="-1/3≦a≦0";
        select4="-1/3<a<0";
        select5="わからない";
        correct="3";
    }    
    else if(order[q_number]==7){
        question="3次方程式y=x^3+3x^2-a=0が異なる3個の実数解をもつとき、実数aのとり得る値の範囲を求めよ。";
        select1="a≦0またはa≧4";
        select2="a<0またはa>4";
        select3="0≦a≦4";
        select4="0<a<4";
        select5="わからない";
        correct="4";
    }    
    else if(order[q_number]==8){
        question="曲線y=x^3+x^2上の点(1,2)における接線の方程式を求めよ。";
        select1="y=5x-3";
        select2="y=5x+3";
        select3="y=-5x-3";
        select4="y=-5x+3";
        select5="わからない";
        correct="1";
    }    
    else if(order[q_number]==9){
        question="点(1,-1)から曲線y=x^2+2xに引いた接線の方程式を求めよ。";
        select1="y=-1,y=8x+9";
        select2="y=-1,y=8x-9";
        select3="y=1,y=8x+9";
        select4="y=1,y=8x-9";
        select5="わからない";
        correct="2";
    }    
    else if(order[q_number]==10){
        question="関数y=x^3+3x^2-9x-7の増減を調べよ。";
        select1="x≦-2,0≦xで増加し、-2≦x≦0で減少する。";
        select2="x≦-2,0≦xで減少し、-2≦x≦0で増加する。";
        select3="x≦-3,1≦xで増加し、-3≦x≦1で減少する。";
        select4="x≦-3,1≦xで減少し、-3≦x≦1で増加する。";
        select5="わからない";
        correct="3";
    }    
    else if(order[q_number]==11){
        question="関数y=-x^3+ax^2+bx+1がx=-1/3で極小となり、x=1で極大となるとき、定数a,bの値を求めよ。";
        select1="a=-1,b=-1";
        select2="a=1,b=1";
        select3="a=-1,b=1";
        select4="a=1,b=-1";
        select5="わからない";
        correct="2";
    }    
    else if(order[q_number]==12){
        question="関数y=-x^3+x^2-3ax+2が極値をもつとき、定数aのとり得る値の範囲を求めよ。";
        select1="a≦1/9";
        select2="a≧1/9";
        select3="a<1/9";
        select4="a>1/9";
        select5="わからない";
        correct="3";
    }    
    else if(order[q_number]==13){
        question="関数y=x^3+2ax^2+3x-4が極値をもたないような定数aの値の範囲を求めよ。";
        select1="a<-3/2,3/2<a";
        select2="a≦-3/2,3/2≦a";
        select3="-3/2<a<3/2";
        select4="-3/2≦a≦3/2";
        select5="わからない";
        correct="4";
    }    
    else if(order[q_number]==14){
        question="関数y=x^3-2x^2について、-1≦x≦2における最大値と最小値を求めよ。";
        select1="x=0,2で最大値0,x=-1で最小値-3";
        select2="x=0,2で最大値0,x=4/3で最小値-32/27";
        select3="x=2で最大値0,x=-1で最小値-3";
        select4="x=1で最大値-1,x=-1で最小値-3";
        select5="わからない";
        correct="1";
    }    
    else if(order[q_number]==15){
        question="3次方程式2x^3-6x+a=0が異なる3個の実数解をもつとき、定数aのとり得る値の範囲を求めよ。";
        select1="-4≦a≦4";
        select2="-4<a<4";
        select3="a≦-4,4≦a";
        select4="a<-4,4<a";
        select5="わからない";
        correct="2";
    }    
    else if(order[q_number]==16){
        question="関数y=x^3+x^2-2のグラフ上のx=-1における接線の方程式を求めよ。";
        select1="y=-x-1";
        select2="y=-x+1";
        select3="y=x+1";
        select4="y=x-1";
        select5="わからない";
        correct="4";
    }    
    else if(order[q_number]==17){
        question="関数y=2x^3-9x^2+16(-2≦x≦4)の最大値、最小値とそのときのXの値を求めよ。";
        select1="X=0のとき最大値16,X=-2のとき最小値-36";
        select2="X=3のとき最大値-11,X=-2のとき最小値-36";
        select3="X=0のとき最大値16,X=4のとき最小値0";
        select4="X=4のとき最大値0,X=-2のとき最小値-36";
        select5="わからない";
        correct="1";
    }    
    else if(order[q_number]==18){
        question="関数y=ax^3+(7-a^2)x^2+bx+cはx=-1で極小値を、x=2で極大値をとり、極小値の絶対値の2倍が極大値に等しいとき、定数a,b,cを求めなさい。";
        select1="a=2,b=12,c=34,6";
        select2="a=-2,b=12,c=34,6";
        select3="a=-2,b=-12,c=34,6";
        select4="a=-2,b=-12,c=34,-6";
        select5="わからない";
        correct="2";
    }    
    else if(order[q_number]==19){
        question="3次方程式2x^3-3x^2-12x+a=0の解が、2つの異なる負の数と1つの異なる正の数であるためのaの値の範囲を求めよ。";
        select1="0<a<7";
        select2="-7<a<20";
        select3="-7<a<0";
        select4="0<a<20";
        select5="わからない";
        correct="3";
    }   
    else if(order[q_number]==20){
        question="関数y=x^3+px^2+qx+rはx=0で極大値4をとり、そのグラフはx軸に接するとき、定数p,q,rの値を求めよ。";
        select1="p=3,q=0,r=4";
        select2="p=-3,q=0,r=-4";
        select3="p=3,q=0,r=-4";
        select4="p=-3,q=0,r=4";
        select5="わからない";
        correct="4";
    }    
    else if(order[q_number]==21){
        question="関数y=x^3-9x-a=0が異なる3つの実数解をもつとき、定数aの値の範囲を求めよ。";
        select1="-6√3<a<6√3";
        select2="-6√3≦a≦6√3";
        select3="-3√6<a<3√6";
        select4="-3√6≦a≦3√6";
        select5="わからない";
        correct="1";
    }    
    else if(order[q_number]==22){
        question="y=x^2上に4点A(-1/2,1/4),B(-t,t^2),C(1/2,1/4),D(1/2,1/4)をとる。ただし0<t<1/2とする。四角形ABCDの面積が最大になるときtの値とそのときの面積Sを求めよ。";
        select1="t=1/8,S=2/27";
        select2="t=1/6,S=4/27";
        select3="t=1/4,S=2/9";
        select4="t=1/3,S=8/27";
        select5="わからない";
        correct="2";
    }    
    else if(order[q_number]==23){
        question="関数y=x^3-ax^2+aのx≦2の範囲でyの最大値が105となるときの定数aの値を全て求めよ。";
        select1="a=3,105";
        select2="a=3,-105";
        select3="a=-3,105";
        select4="a=-3,-105";
        select5="わからない";
        correct="3";
    }
    else if(order[q_number]==24){
        question="関数y=|x-1|について、x=1において連続かどうかを調べよ。";
        select1="連続である。";
        select2="連続でない。";
        select3="わからない";
        correct="1";
    }
    else if(order[q_number]==25){
        question="関数y=|x-1|について、x=1において微分可能かどうかを調べよ。";
        select1="微分可能である。";
        select2="微分可能でない。";
        select3="わからない";
        correct="2";
    }
}

//正答表示//
function cor1(){
    answer="1";//正答//
    discri_answer();//関数呼び出し//
}


function cor2(){
    answer="2";//正答//
    discri_answer();//関数呼び出し//
}


function cor3(){
    answer="3";//正答//
    discri_answer();//関数呼び出し//
}


function cor4(){
    answer="4";//正答//
    discri_answer();//関数呼び出し//
}

function cor5(){
    answer="5";//正答//
    discri_answer();//関数呼び出し//
}

//正誤チェック//
function discri_answer() {
    column = document.getElementById("output");
    if(correct == answer && q_number != total_number-1){
        column.innerHTML = "<strong><font size='5' color='#ff0000'>選択肢[" + correct + "]　正解！！</font></strong> <input id='next_but' type='button' value='クリックして次へ進もう' onclick='next();'/><br><br>";
        c_number++;
        columnq = document.getElementById("c_num");
        columnq.innerHTML = c_number;
    }
    else if(correct != answer && q_number != total_number-1){
        column.innerHTML = "<strong><font size='5' color='#0000ff'>残念！！正解は[" + correct + "]</font></strong> <input id='next_but' type='button' value='クリックして次へ進もう' onclick='next();'/><br><br>";
    }


    else if(correct == answer && q_number == total_number-1){
        c_number++;
        ratio=c_number/total_number*100;
        ratio=ratio.toFixed();
        time=(Date.now()-time)/1000;
        compliment="";
        column.innerHTML = "<strong><font size='5' color='#ff0000'>選択肢[" + correct + "]　正解！！</font> <font size='5'>全問終了!!お疲れさまでした。</font></strong><br><br><font size='5'>かかった時間は<strong>" + time + "秒</strong>　正答率は" + c_number + "/" + total_number + "=<strong>" + ratio + "％</strong>でした</font><br><br><strong>" + compliment + "</strong><br><br><input id='next_but' type='button' value='もう一度挑戦する' onclick='reflesh();'/><br><br><input id='next_but' type='button' value='前のページに戻る' onclick='last();'/><br><br>";
        columnq = document.getElementById("c_num");
        columnq.innerHTML = c_number;
    }


    else if(correct != answer && q_number == total_number-1){
        ratio=c_number/total_number*100;
        ratio=ratio.toFixed(2)
        time=(Date.now()-time)/1000;
        compliment="";
        column.innerHTML = "<strong><font size='5' color='#0000ff'>残念！！正解は[" + correct + "]</font> <font size='5'>全問終了!!お疲れさまでした。</font></strong><br><br><font size='5'>かかった時間は<strong>" + time + "秒</strong>　正答率は" + c_number + "/" + total_number + "=<strong>" + ratio + "％</strong>でした</font><br><br><strong>" + compliment + "</strong><br><br><input id='next_but' type='button' value='もう一度挑戦する' onclick='reflesh();'/><br><br><input id='next_but' type='button' value='前のページに戻る' onclick='last();'/><br><br>";
    }

    
    document.getElementById("but1").disabled = true;
    document.getElementById("but2").disabled = true;
    document.getElementById("but3").disabled = true;
    document.getElementById("but4").disabled = true;
    document.getElementById("but5").disabled = true;
}


function reflesh(){
    window.location.reload();
}


function last(){
    window.history.back();
}


function next() {
    q_number++;
    column = document.getElementById("output");
    column.innerHTML = "";
    document.getElementById("but1").disabled = false;
    document.getElementById("but2").disabled = false;
    document.getElementById("but3").disabled = false;
    document.getElementById("but4").disabled = false;
    document.getElementById("but5").disabled = false;
    select_question()
    if(q_number!=total_number){
        columnq = document.getElementById("q_num");
        columnq.innerHTML = q_number+1;
    }
    columnq = document.getElementById("quest");
    columnq.innerHTML = question;
    column1 = document.getElementById("but1");
    column1.value = "[1]　" + select1;
    column2 = document.getElementById("but2");
    column2.value = "[2]　" + select2;
    column3 = document.getElementById("but3");
    column3.value = "[3]　" + select3;
    column4 = document.getElementById("but4");
    column4.value = "[4]　" + select4;
    column5 = document.getElementById("but5");
    column5.value = "[5]　" + select5;
}


while(order[total_number-1] == 0 && k<5){
    r=Math.floor(Math.random() * total_q_number + 1);
    for(let j=0; j<total_number; j++){
        if(order[j]==r){
            break;
        }
        if(order[j]==0){
            order[j]=r;
            break;
        }
    }
    k=k+1;
}


if(k==5){
    for(let i=0; i<total_number; i++){
        order[i]=i+1;
    }
}


qu_number=q_number+1;
select_question();
document.open();
document.write(total_number + "問中　<span id='q_num'>" + qu_number + "</span>問目　正解数<span id='c_num'>" + c_number + "</span>");
document.write("<p><div id='quest'>" + question + "　選択肢をクリックしてください</div></p><br>");
document.write("<div id='output'></div>");
document.write("<input id='but1' type='button' style='text-align: left; width:75%;font-size:15px;' value=[1]　" + select1 + " onclick='cor1();'/><br><br>");
document.write("<input id='but2' type='button' style='text-align: left; width:75%;font-size:15px;' value=[2]　" + select2 + " onclick='cor2();'/><br><br>");
document.write("<input id='but3' type='button' style='text-align: left; width:75%;font-size:15px;' value=[3]　" + select3 + " onclick='cor3();'/><br><br>");
document.write("<input id='but4' type='button' style='text-align: left; width:75%;font-size:15px;' value=[4]　" + select4 + " onclick='cor4();'/><br><br>");
document.write("<input id='but5' type='button' style='text-align: left; width:75%;font-size:15px;' value=[5]　" + select5 + " onclick='cor5();'/><br><br>");
document.close();
time=Date.now();
        </script>
    </body>
</html>
